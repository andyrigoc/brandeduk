<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrandedUK - Redirecting...</title>
    <style>
        body {
            font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background: #f7f7f7;
            color: #333;
        }
        .loader {
            text-align: center;
            padding: 20px;
        }
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #ccc;
            border-top: 4px solid #7c3aed;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 12px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        a { color: #7c3aed; text-decoration: none; }
        a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <div class="loader">
        <div class="spinner"></div>
        <p>Detecting your device...</p>
        <p id="debugInfo" style="font-size:12px; color:#666; margin:6px 0 10px;"></p>
        <p style="margin:0; font-size:13px;">
            <a href="index-mobile.html" id="mobileLink">Mobile/Tablet</a>
            &nbsp;|&nbsp;
            <a href="brandeduk.com/home-pc.html" id="desktopLink">Desktop</a>
        </p>
        <noscript>
            <p>
                JavaScript is required for automatic redirect.<br>
                <a href="index-mobile.html">Go to Mobile/Tablet Site</a> | 
                <a href="brandeduk.com/home-pc.html">Go to Desktop Site</a>
            </p>
        </noscript>
    </div>

    <script>
        (function () {
            var BREAKPOINT = 1024;
            var lastTarget = null;
            var autoTimer = null;
            var debugInfoEl = document.getElementById('debugInfo');

            function updateDebug(mode) {
                if (!debugInfoEl) return;
                debugInfoEl.textContent = 'width=' + window.innerWidth + ' â€¢ mode=' + mode;
            }

            function getForcedTarget() {
                // Optional override for testing: ?force=mobile or ?force=desktop
                try {
                    var params = new URLSearchParams(window.location.search);
                    var force = (params.get('force') || '').toLowerCase();
                    if (force === 'mobile') return 'index-mobile.html';
                    if (force === 'desktop') return 'brandeduk.com/home-pc.html';
                } catch (e) {
                    // ignore
                }
                return null;
            }

            function computeTargetByViewport() {
                // Mobile/tablet -> index.html
                // Desktop -> 10.6 PC home (keeps your updated hero images)
                var isMobile = window.matchMedia && window.matchMedia('(max-width: ' + (BREAKPOINT - 1) + 'px)').matches;
                if (typeof isMobile !== 'boolean') {
                    isMobile = window.innerWidth < BREAKPOINT;
                }
                return isMobile
                    ? 'index-mobile.html'
                    : 'brandeduk.com/home-pc.html';
            }

            function redirectIfNeeded() {
                var forced = getForcedTarget();

                // Default behavior: mobile/tablet -> index.html, desktop -> 10.6 PC
                var target = forced || computeTargetByViewport();

                updateDebug(forced ? ('forced:' + forced) : (target === 'index-mobile.html' ? 'auto:mobile' : 'auto:desktop'));
                if (target && target !== lastTarget) {
                    lastTarget = target;
                    window.location.replace(target);
                }
            }

            // Give the browser a moment to apply DevTools emulation if it was toggled,
            // then redirect.
            updateDebug('pending');
            autoTimer = setTimeout(redirectIfNeeded, 250);
        })();
    </script>
</body>
</html>
